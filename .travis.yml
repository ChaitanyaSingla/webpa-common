language: go
go: 
    - 1.7.3

before_install:
    - sudo pip install --user codecov
    - mkdir -p $GOPATH/bin
    - curl https://glide.sh/get | sh

install:
    - glide install

script:
    - go test "github.com/Comcast/webpa-common/concurrent" -race -coverprofile=coverage.txt && bash <(curl -s https://codecov.io/bash)
    - go test "github.com/Comcast/webpa-common/conlimiter" -race -coverprofile=coverage.txt && bash <(curl -s https://codecov.io/bash)
